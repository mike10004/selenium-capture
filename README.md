[![Travis build status](https://img.shields.io/travis/mike10004/selenium-help.svg)](https://travis-ci.org/mike10004/selenium-help)
[![Maven Central](https://img.shields.io/maven-central/v/com.github.mike10004/selenium-help.svg)](https://repo1.maven.org/maven2/com/github/mike10004/selenium-help/)

selenium-help
=============

A little help for using Selenium in Java. You may want to use this library
if you need to:

* capture HTTPS traffic generated during your Selenium WebDriver sessions
* provide cookies to your Firefox or Chrome webdrivers

Capturing HTTPS traffic
-----------------------

The commonly suggested method of capturing network traffic generated by 
browsing activity occuring while webdriving your browser is to run a 
proxy that monitors and stores requests and responses and configure the 
webdriven browser to use that proxy.

By default, these proxies ignore HTTPS requests, because they have no readable
content. To make the encrypted content readable, you need to make the proxy
MITM the TLS traffic and configure the browser to accept the proxy's 
self-signed certificate. This library provides an API that defines consistent
ways of creating a webdriver for your browser, configuring the browser to use
the MITM proxy, and enabling capture of decrypted traffic.
 
The [GenerateNewCertificate][generate-new] class in the test package shows how 
to create the self-signed certificate required by the proxy and how to capture 
responses to an Apache client over HTTPS. Several unit tests demonstrate 
capture of traffic generated by Chrome and Firefox webdrivers.

Providing cookies to your browser
---------------------------------

The WebDriver APIs for cookie management are a tad simplistic. They have 
annoying snafus like 

* you can't add cookies associated with a site whose page is not open in the 
  browser window, 
* you can't add cookies with all of the attributes the browser is capable of
  storing
* you can't export cookies with all of the original attributes like expiration
  date

This library helps resolve the first two of these snafus for Firefox and 
Chrome webdrivers with custom solutions for each browser.

* For Firefox, the library provides a mechanism to generate the SQLite database
  where the browser stores cookies in the user profile directory 
* For Chrome, the browser is started with an extension that enables cookies
  to be imported programatically

To resolve the issue of cookie export, you can use the traffic capture to 
gain access to all cookies that were sent during a browsing session.

[generate-new]: https://github.com/mike10004/selenium-help/blob/master/src/test/java/com/github/mike10004/seleniumhelp/GenerateNewCertificate.java
